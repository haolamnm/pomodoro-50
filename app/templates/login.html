{% extends "layout.html" %}

{% block title %}
Login
{% endblock %}

{% block main %}
<div class="container w-100 w-md-50 bg-dark border rounded shadow p-3">
	<!-- Heading -->
	<h3 class="text-light">Login here!</h3>
	<p class="text-secondary text-center mb-3">
		Welcome back you've been missed! Please log in to continue.
	</p>

	<!-- Login with email -->
	<form action="{{ url_for('login.email') }}" method="post">
		<!-- CSRF Token -->
		{{ login_email_form.hidden_tag() }}

		<!-- Email -->
		<div class="mb-1 input-group">
			<span class="input-group-text"><i class="fa-solid fa-envelope"></i></span>
			{{ login_email_form.email(class="form-control mx-auto w-auto", placeholder="Email", autofocus=True) }}
		</div>
		{% if login_email_form.email.errors %}
		<div class="text-danger small">
			{{ login_email_form.email.errors[0] }}
		</div>
		{% endif %}

		<!-- Password -->
		<div class="mb-1 mt-3 input-group">
			<span class="input-group-text"><i class="fa-solid fa-lock"></i></span>
			{{ login_email_form.password(class="form-control mx-auto w-50 password-toggle", placeholder="Password") }}
		</div>
		{% if login_email_form.password.errors %}
		<div class="text-danger small">
			{{ login_email_form.password.errors[0] }}
		</div>
		{% endif %}

		<!-- Submit Button -->
		<div class="text-center mt-3">
			{{ login_email_form.submit() }}
		</div>

		<!-- Create an account and Forgot password -->
		<div class="container mt-3">
			<div class="row">
				<div class="col-6">
					<p class="text-start"><a href="{{ url_for('signup.email') }}">Create an account</a></p>
				</div>
				<div class="col-6">
					<p class="text-end"><a href="{{ url_for('profile.reset_password_request') }}">Forgot your password?</a></p>
				</div>
			</div>
		</div>
	</form>

	<p class="text-center text-secondary mt-3">
		Or continue with
	</p>

	<div class="container mt-3">
		<div class="row">

			<!-- Login with Google -->
			<div class="col-6">
				<form action="{{ url_for('login.google') }}" method="post">
					<!-- CSRF Token -->
					{{ login_google_form.hidden_tag() }}
					<div class="mb-3 input-group">
						{{ login_google_form.submit() }}
					</div>
				</form>
			</div>

			<!-- Login with GitHub API -->
			<div class="col-6">
				<form action="{{ url_for('login.github') }}" method="post">
					<!-- CSRF Token -->
					{{ login_github_form.hidden_tag() }}
					<div class="mb-3 input-group">
						{{ login_github_form.submit() }}
					</div>
				</form>
			</div>

		</div>
	</div>

</div>
{% endblock %}
